
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Great Himalayan Trail</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Great Himalayan Trail</h1>
    <p>Select two vertices to find the shortest path, the path with the highest cultural significance score, or the path with minimal elevation change:</p>
    <div class = "select-container">
    <select id="start-node">
        <option value="">Select start node</option>
        <option value="Anante Thati">Anante Thati</option>
        <option value="Arughat">Arughat</option>
        <option value="Besisahar">Besisahar</option>
        <option value="Bimthang">Bimthang</option>
        <option value="Birendra Tal">Birendra Tal</option>
        <option value="Birethanti">Birethanti</option>
        <option value="Campsite">Campsite</option>
        <option value="Chautha">Chautha</option>
        <option value="Danphe Lagna">Danphe Lagna</option>
        <option value="Dang">Dang</option>
        <option value="Dharapani">Dharapani</option>
        <option value="Dharamsala">Dharamsala</option>
        <option value="Dhotu">Dhotu</option>
        <option value="Dobato">Dobato</option>
        <option value="Ghandruk">Ghandruk</option>
        <option value="Ghachok">Ghachok</option>
        <option value="Ghorepani">Ghorepani</option>
        <option value="Gorosingha">Gorosingha</option>
        <option value="Hemja Milanchok">Hemja Milanchok</option>
        <option value="Jagat">Jagat</option>
        <option value="Jaljala Chaur">Jaljala Chaur</option>
        <option value="Jumla">Jumla</option>
        <option value="Karuwa">Karuwa</option>
        <option value="Kathmandu">Kathmandu</option>
        <option value="Kathmandu Durbar Square">Kathmandu Durbar Square</option>
        <option value="Khayer Lake">Khayer Lake</option>
        <option value="Khopra Danda">Khopra Danda</option>
        <option value="Khumai Danda">Khumai Danda</option>
        <option value="Kimche village">Kimche village</option>
        <option value="Lalka">Lalka</option>
        <option value="Larkya La High Pass">Larkya La High Pass</option>
        <option value="Lho">Lho</option>
        <option value="Machha Khola">Machha Khola</option>
        <option value="Machhapuchhre Base Camp">Machhapuchhre Base Camp</option>
        <option value="Manaslu Basecamp">Manaslu Basecamp</option>
        <option value="Namrung">Namrung</option>
        <option value="Nayapul">Nayapul</option>
        <option value="Nepalgunj">Nepalgunj</option>
        <option value="Pilicho Camp">Pilicho Camp</option>
        <option value="Pokhara">Pokhara</option>
        <option value="Rara Lake">Rara Lake</option>
        <option value="Ribhan Village">Ribhan Village</option>
        <option value="Samagaon">Samagaon</option>
        <option value="Samdo">Samdo</option>
        <option value="Soti Khola">Soti Khola</option>
        <option value="Swayambhunath">Swayambhunath</option>
        <option value="Tirkhedhunga">Tirkhedhunga</option>
        <option value="Uthugaon">Uthugaon</option>
        <option value="Upper Chistibung">Upper Chistibung</option>
        <option value="Sinja">Sinja</option>
        
    </select>
    </div>
    <div class = "select-container">
    <select id="end-node">
        <option value="">Select end node</option>
        <option value="Anante Thati">Anante Thati</option>
<option value="Arughat">Arughat</option>
<option value="Besisahar">Besisahar</option>
<option value="Bimthang">Bimthang</option>
<option value="Birendra Tal">Birendra Tal</option>
<option value="Birethanti">Birethanti</option>
<option value="Campsite">Campsite</option>
<option value="Chautha">Chautha</option>
<option value="Danphe Lagna">Danphe Lagna</option>
<option value="Dang">Dang</option>
<option value="Dharapani">Dharapani</option>
<option value="Dharamsala">Dharamsala</option>
<option value="Dhotu">Dhotu</option>
<option value="Dobato">Dobato</option>
<option value="Ghandruk">Ghandruk</option>
<option value="Ghachok">Ghachok</option>
<option value="Ghorepani">Ghorepani</option>
<option value="Gorosingha">Gorosingha</option>
<option value="Hemja Milanchok">Hemja Milanchok</option>
<option value="Jagat">Jagat</option>
<option value="Jaljala Chaur">Jaljala Chaur</option>
<option value="Jumla">Jumla</option>
<option value="Karuwa">Karuwa</option>
<option value="Kathmandu">Kathmandu</option>
<option value="Kathmandu Durbar Square">Kathmandu Durbar Square</option>
<option value="Khayer Lake">Khayer Lake</option>
<option value="Khopra Danda">Khopra Danda</option>
<option value="Khumai Danda">Khumai Danda</option>
<option value="Kimche village">Kimche village</option>
<option value="Lalka">Lalka</option>
<option value="Larkya La High Pass">Larkya La High Pass</option>
<option value="Lho">Lho</option>
<option value="Machha Khola">Machha Khola</option>
<option value="Machhapuchhre Base Camp">Machhapuchhre Base Camp</option>
<option value="Manaslu Basecamp">Manaslu Basecamp</option>
<option value="Namrung">Namrung</option>
<option value="Nayapul">Nayapul</option>
<option value="Nepalgunj">Nepalgunj</option>
<option value="Pilicho Camp">Pilicho Camp</option>
<option value="Pokhara">Pokhara</option>
<option value="Rara Lake">Rara Lake</option>
<option value="Ribhan Village">Ribhan Village</option>
<option value="Samagaon">Samagaon</option>
<option value="Samdo">Samdo</option>
<option value="Soti Khola">Soti Khola</option>
<option value="Swayambhunath">Swayambhunath</option>
<option value="Tirkhedhunga">Tirkhedhunga</option>
<option value="Uthugaon">Uthugaon</option>
<option value="Upper Chistibung">Upper Chistibung</option>
<option value="Sinja">Sinja</option>

    </select>
    </div>
    <button class="button" onclick="findShortestPath()">Find Shortest Path</button>
    <button class="button" onclick="findHighestCulturalPath()">Find Path with Highest Cultural Significance</button>
    <button class="button" onclick="findMinimalElevationPath()">Find Path with Minimal Elevation Change</button>
    <p id="shortest-path-result"></p>
    <p id="highest-cultural-path-result"></p>
    <p id="minimal-elevation-path-result"></p>
    <div id="mynetwork" style="height: 600px;"></div>
    <script type="text/javascript">
        // JavaScript code for interactive vertex selection

        // Define the nodes data
        var nodes = new vis.DataSet([{"id": "Kathmandu", "label": "Kathmandu", "title": "Altitude: 1400m\nCultural: High", "color": "red"}, {"id": "Pokhara", "label": "Pokhara", "title": "Altitude: 827m\nCultural: High", "color": "red"}, {"id": "Nayapul", "label": "Nayapul", "title": "Altitude: 1050m\nCultural: Low", "color": "green"}, {"id": "Tirkhedhunga", "label": "Tirkhedhunga", "title": "Altitude: 1577m\nCultural: Low", "color": "green"}, {"id": "Birethanti", "label": "Birethanti", "title": "Altitude: 1065m\nCultural: Low", "color": "green"}, {"id": "Ghorepani", "label": "Ghorepani", "title": "Altitude: 2675m\nCultural: Medium", "color": "orange"}, {"id": "Upper Chistibung", "label": "Upper Chistibung", "title": "Altitude: 3000m\nCultural: Low", "color": "green"}, {"id": "Khopra Danda", "label": "Khopra Danda", "title": "Altitude: 3640m\nCultural: Low", "color": "green"}, {"id": "Khayer Lake", "label": "Khayer Lake", "title": "Altitude: 4660m\nCultural: Low", "color": "green"}, {"id": "Dobato", "label": "Dobato", "title": "Altitude: 3438m\nCultural: Low", "color": "green"}, {"id": "Kimche village", "label": "Kimche village", "title": "Altitude: 1640m\nCultural: High", "color": "red"}, {"id": "Ghandruk", "label": "Ghandruk", "title": "Altitude: 1640m\nCultural: High", "color": "red"}, {"id": "Hemja Milanchok", "label": "Hemja Milanchok", "title": "Altitude: 827m\nCultural: Low", "color": "green"}, {"id": "Anante Thati", "label": "Anante Thati", "title": "Altitude: 1100m\nCultural: Low", "color": "green"}, {"id": "Lalka", "label": "Lalka", "title": "Altitude: 2250m\nCultural: Low", "color": "green"}, {"id": "Ribhan Village", "label": "Ribhan Village", "title": "Altitude: 1500m\nCultural: Low", "color": "green"}, {"id": "Khumai Danda", "label": "Khumai Danda", "title": "Altitude: 3245m\nCultural: Low", "color": "green"}, {"id": "Campsite", "label": "Campsite", "title": "Altitude: 3699m\nCultural: Low", "color": "green"}, {"id": "Machhapuchhre Base Camp", "label": "Machhapuchhre Base Camp", "title": "Altitude: 4000m\nCultural: Medium", "color": "orange"}, {"id": "Pilicho Camp", "label": "Pilicho Camp", "title": "Altitude: 2900m\nCultural: Low", "color": "green"}, {"id": "Karuwa", "label": "Karuwa", "title": "Altitude: 1380m\nCultural: Low", "color": "green"}, {"id": "Ghachok", "label": "Ghachok", "title": "Altitude: 1254m\nCultural: Low", "color": "green"}, {"id": "Swayambhunath", "label": "Swayambhunath", "title": "Altitude: 1400m\nCultural: High", "color": "red"}, {"id": "Kathmandu Durbar Square", "label": "Kathmandu Durbar Square", "title": "Altitude: 1400m\nCultural: High", "color": "red"}, {"id": "Arughat", "label": "Arughat", "title": "Altitude: 530m\nCultural: Low", "color": "green"}, {"id": "Soti Khola", "label": "Soti Khola", "title": "Altitude: 730m\nCultural: Medium", "color": "orange"}, {"id": "Machha Khola", "label": "Machha Khola", "title": "Altitude: 930m\nCultural: Low", "color": "green"}, {"id": "Jagat", "label": "Jagat", "title": "Altitude: 1410m\nCultural: Low", "color": "green"}, {"id": "Dang", "label": "Dang", "title": "Altitude: 1800m\nCultural: Medium", "color": "orange"}, {"id": "Namrung", "label": "Namrung", "title": "Altitude: 2660m\nCultural: Low", "color": "green"}, {"id": "Lho", "label": "Lho", "title": "Altitude: 3180m\nCultural: Low", "color": "green"}, {"id": "Samagaon", "label": "Samagaon", "title": "Altitude: 3530m\nCultural: Low", "color": "green"}, {"id": "Manaslu Basecamp", "label": "Manaslu Basecamp", "title": "Altitude: 4800m\nCultural: Low", "color": "green"}, {"id": "Birendra Tal", "label": "Birendra Tal", "title": "Altitude: 3600m\nCultural: Low", "color": "green"}, {"id": "Samdo", "label": "Samdo", "title": "Altitude: 3875m\nCultural: Low", "color": "green"}, {"id": "Dharamsala", "label": "Dharamsala", "title": "Altitude: 4460m\nCultural: Low", "color": "green"}, {"id": "Larkya La High Pass", "label": "Larkya La High Pass", "title": "Altitude: 5160m\nCultural: Low", "color": "green"}, {"id": "Bimthang", "label": "Bimthang", "title": "Altitude: 3590m\nCultural: Low", "color": "green"}, {"id": "Dharapani", "label": "Dharapani", "title": "Altitude: 1963m\nCultural: Low", "color": "green"}, {"id": "Besisahar", "label": "Besisahar", "title": "Altitude: 760m\nCultural: Medium", "color": "orange"}, {"id": "Nepalgunj", "label": "Nepalgunj", "title": "Altitude: 150m\nCultural: Medium", "color": "orange"}, {"id": "Jumla", "label": "Jumla", "title": "Altitude: 2370m\nCultural: Medium", "color": "orange"}, {"id": "Uthugaon", "label": "Uthugaon", "title": "Altitude: 2530m\nCultural: Low", "color": "green"}, {"id": "Danphe Lagna", "label": "Danphe Lagna", "title": "Altitude: 3500m\nCultural: Low", "color": "green"}, {"id": "Chautha", "label": "Chautha", "title": "Altitude: 2770m\nCultural: Low", "color": "green"}, {"id": "Dhotu", "label": "Dhotu", "title": "Altitude: 2380m\nCultural: Low", "color": "green"}, {"id": "Rara Lake", "label": "Rara Lake", "title": "Altitude: 2990m\nCultural: Low", "color": "green"}, {"id": "Gorosingha", "label": "Gorosingha", "title": "Altitude: 3190m\nCultural: Low", "color": "green"}, {"id": "Sinja", "label": "Sinja", "title": "Altitude: 2440m\nCultural: Low", "color": "green"}, {"id": "Jaljala Chaur", "label": "Jaljala Chaur", "title": "Altitude: 3270m\nCultural: Low", "color": "green"}]);

        // Define the edges data
        var edges = new vis.DataSet([{"from": "Kathmandu", "to": "Pokhara", "title": "Distance: 7 km", "length": 7, "id": "Kathmandu-Pokhara"}, {"from": "Pokhara", "to": "Nayapul", "title": "Distance: 6 km", "length": 6, "id": "Pokhara-Nayapul"}, {"from": "Nayapul", "to": "Tirkhedhunga", "title": "Distance: 4 km", "length": 4, "id": "Nayapul-Tirkhedhunga"}, {"from": "Tirkhedhunga", "to": "Ghorepani", "title": "Distance: 6 km", "length": 6, "id": "Tirkhedhunga-Ghorepani"}, {"from": "Ghorepani", "to": "Upper Chistibung", "title": "Distance: 6 km", "length": 6, "id": "Ghorepani-Upper Chistibung"}, {"from": "Upper Chistibung", "to": "Khopra Danda", "title": "Distance: 4 km", "length": 4, "id": "Upper Chistibung-Khopra Danda"}, {"from": "Khayer Lake", "to": "Khopra Danda", "title": "Distance: 8 km", "length": 8, "id": "Khayer Lake-Khopra Danda"}, {"from": "Khopra Danda", "to": "Dobato", "title": "Distance: 5 km", "length": 5, "id": "Khopra Danda-Dobato"}, {"from": "Dobato", "to": "Kimche village", "title": "Distance: 6 km", "length": 6, "id": "Dobato-Kimche village"}, {"from": "Kimche village", "to": "Pokhara", "title": "Distance: 7 km", "length": 7, "id": "Kimche village-Pokhara"}, {"from": "Pokhara", "to": "Hemja Milanchok", "title": "Distance: 1 km", "length": 1, "id": "Pokhara-Hemja Milanchok"}, {"from": "Hemja Milanchok", "to": "Anante Thati", "title": "Distance: 1 km", "length": 1, "id": "Hemja Milanchok-Anante Thati"}, {"from": "Anante Thati", "to": "Lalka", "title": "Distance: 6 km", "length": 6, "id": "Anante Thati-Lalka"}, {"from": "Lalka", "to": "Ribhan Village", "title": "Distance: 2 km", "length": 2, "id": "Lalka-Ribhan Village"}, {"from": "Lalka", "to": "Khumai Danda", "title": "Distance: 7 km", "length": 7, "id": "Lalka-Khumai Danda"}, {"from": "Khumai Danda", "to": "Campsite", "title": "Distance: 6 km", "length": 6, "id": "Khumai Danda-Campsite"}, {"from": "Campsite", "to": "Machhapuchhre Base Camp", "title": "Distance: 5 km", "length": 5, "id": "Campsite-Machhapuchhre Base Camp"}, {"from": "Machhapuchhre Base Camp", "to": "Pilicho Camp", "title": "Distance: 6 km", "length": 6, "id": "Machhapuchhre Base Camp-Pilicho Camp"}, {"from": "Pilicho Camp", "to": "Karuwa", "title": "Distance: 4 km", "length": 4, "id": "Pilicho Camp-Karuwa"}, {"from": "Karuwa", "to": "Ghachok", "title": "Distance: 5 km", "length": 5, "id": "Karuwa-Ghachok"}, {"from": "Ghachok", "to": "Hemja Milanchok", "title": "Distance: 1 km", "length": 1, "id": "Ghachok-Hemja Milanchok"}, {"from": "Kathmandu", "to": "Swayambhunath", "title": "Distance: 0 km", "length": 0, "id": "Kathmandu-Swayambhunath"}, {"from": "Swayambhunath", "to": "Kathmandu Durbar Square", "title": "Distance: 0 km", "length": 0, "id": "Swayambhunath-Kathmandu Durbar Square"}, {"from": "Kathmandu", "to": "Arughat", "title": "Distance: 8 km", "length": 8, "id": "Kathmandu-Arughat"}, {"from": "Arughat", "to": "Soti Khola", "title": "Distance: 0 km", "length": 0, "id": "Arughat-Soti Khola"}, {"from": "Soti Khola", "to": "Machha Khola", "title": "Distance: 6 km", "length": 6, "id": "Soti Khola-Machha Khola"}, {"from": "Machha Khola", "to": "Jagat", "title": "Distance: 8 km", "length": 8, "id": "Machha Khola-Jagat"}, {"from": "Jagat", "to": "Dang", "title": "Distance: 6 km", "length": 6, "id": "Jagat-Dang"}, {"from": "Dang", "to": "Namrung", "title": "Distance: 6 km", "length": 6, "id": "Dang-Namrung"}, {"from": "Namrung", "to": "Lho", "title": "Distance: 4 km", "length": 4, "id": "Namrung-Lho"}, {"from": "Lho", "to": "Samagaon", "title": "Distance: 4 km", "length": 4, "id": "Lho-Samagaon"}, {"from": "Samagaon", "to": "Manaslu Basecamp", "title": "Distance: 0 km", "length": 0, "id": "Samagaon-Manaslu Basecamp"}, {"from": "Samagaon", "to": "Birendra Tal", "title": "Distance: 0 km", "length": 0, "id": "Samagaon-Birendra Tal"}, {"from": "Samagaon", "to": "Samdo", "title": "Distance: 4 km", "length": 4, "id": "Samagaon-Samdo"}, {"from": "Samdo", "to": "Dharamsala", "title": "Distance: 4 km", "length": 4, "id": "Samdo-Dharamsala"}, {"from": "Dharamsala", "to": "Larkya La High Pass", "title": "Distance: 0 km", "length": 0, "id": "Dharamsala-Larkya La High Pass"}, {"from": "Larkya La High Pass", "to": "Bimthang", "title": "Distance: 11 km", "length": 11, "id": "Larkya La High Pass-Bimthang"}, {"from": "Bimthang", "to": "Dharapani", "title": "Distance: 9 km", "length": 9, "id": "Bimthang-Dharapani"}, {"from": "Dharapani", "to": "Besisahar", "title": "Distance: 0 km", "length": 0, "id": "Dharapani-Besisahar"}, {"from": "Besisahar", "to": "Kathmandu", "title": "Distance: 10 km", "length": 10, "id": "Besisahar-Kathmandu"}, {"from": "Kathmandu", "to": "Nepalgunj", "title": "Distance: 0.83 km", "length": 0.83, "id": "Kathmandu-Nepalgunj"}, {"from": "Nepalgunj", "to": "Jumla", "title": "Distance: 0.33 km", "length": 0.33, "id": "Nepalgunj-Jumla"}, {"from": "Jumla", "to": "Uthugaon", "title": "Distance: 6 km", "length": 6, "id": "Jumla-Uthugaon"}, {"from": "Uthugaon", "to": "Danphe Lagna", "title": "Distance: 6 km", "length": 6, "id": "Uthugaon-Danphe Lagna"}, {"from": "Danphe Lagna", "to": "Chautha", "title": "Distance: 6 km", "length": 6, "id": "Danphe Lagna-Chautha"}, {"from": "Chautha", "to": "Dhotu", "title": "Distance: 6 km", "length": 6, "id": "Chautha-Dhotu"}, {"from": "Dhotu", "to": "Rara Lake", "title": "Distance: 6 km", "length": 6, "id": "Dhotu-Rara Lake"}, {"from": "Rara Lake", "to": "Gorosingha", "title": "Distance: 5 km", "length": 5, "id": "Rara Lake-Gorosingha"}, {"from": "Gorosingha", "to": "Sinja", "title": "Distance: 6 km", "length": 6, "id": "Gorosingha-Sinja"}, {"from": "Sinja", "to": "Jaljala Chaur", "title": "Distance: 6 km", "length": 6, "id": "Sinja-Jaljala Chaur"}, {"from": "Jaljala Chaur", "to": "Jumla", "title": "Distance: 6 km", "length": 6, "id": "Jaljala Chaur-Jumla"}]);

        // Create the network
        var container = document.getElementById('mynetwork');
        var data = { nodes: nodes, edges: edges };
        var options = {};
        var network = new vis.Network(container, data, options);

        // Store original edge colors and widths
        var originalEdgeStyles = {};
        edges.forEach(function(edge) {
            originalEdgeStyles[edge.id] = {
                color: edge.color || '#848484',  // Default color in vis.js
                width: edge.width || 4          // Default width in vis.js
            };
        });

        // Find the shortest path function using Dijkstra's algorithm
        function findShortestPath() {
            var startNode = document.getElementById('start-node').value;
            var endNode = document.getElementById('end-node').value;

            if (startNode === "" || endNode === "") {
                alert("Please select both start and end nodes.");
                return;
            }

            var result = dijkstra(startNode, endNode);
            document.getElementById('shortest-path-result').innerText = "Shortest path: " + result.path.join(' -> ') + " (Time: " + result.distance + " hrs)";

            // Reset edge styles to original
            edges.forEach(function(edge) {
                var originalStyle = originalEdgeStyles[edge.id];
                edge.color = originalStyle.color;
                edge.width = originalStyle.width;
                edges.update(edge);
            });

            // Highlight the shortest path on the graph
            var pathEdges = [];
            for (var i = 0; i < result.path.length - 1; i++) {
                var fromNode = result.path[i];
                var toNode = result.path[i + 1];
                var edgeId = edges.getIds({
                    filter: function(item) {
                        return (item.from === fromNode && item.to === toNode) || (item.from === toNode && item.to === fromNode);
                    }
                })[0];
                pathEdges.push(edgeId);
            }

            var selectedEdges = edges.get({
                filter: function(item) {
                    return pathEdges.includes(item.id);
                }
            });

            // Highlight shortest path by changing color and width
            selectedEdges.forEach(function(edge) {
                edge.color = { color: 'blue' };
                edge.width = 3;
                edges.update(edge);
            });
        }

        // Find the path with the highest cultural significance
        function findHighestCulturalPath() {
            var startNode = document.getElementById('start-node').value;
            var endNode = document.getElementById('end-node').value;

            if (startNode === "" || endNode === "") {
                alert("Please select both start and end nodes.");
                return;
            }

            var result = findPathWithHighestCulturalSignificance(startNode, endNode);
            document.getElementById('highest-cultural-path-result').innerText = "Path with highest cultural significance: " + result.path.join(' -> ')

            // Reset edge styles to original
            edges.forEach(function(edge) {
                var originalStyle = originalEdgeStyles[edge.id];
                edge.color = originalStyle.color;
                edge.width = originalStyle.width;
                edges.update(edge);
            });

            // Highlight the cultural path on the graph
            var pathEdges = [];
            for (var i = 0; i < result.path.length - 1; i++) {
                var fromNode = result.path[i];
                var toNode = result.path[i + 1];
                var edgeId = edges.getIds({
                    filter: function(item) {
                        return (item.from === fromNode && item.to === toNode) || (item.from === toNode && item.to === fromNode);
                    }
                })[0];
                pathEdges.push(edgeId);
            }

            var selectedEdges = edges.get({
                filter: function(item) {
                    return pathEdges.includes(item.id);
                }
            });

            // Highlight cultural path by changing color and width
            selectedEdges.forEach(function(edge) {
                edge.color = { color: 'black' };
                edge.width = 3;
                edges.update(edge);
            });
        }

        // Find path with minimal elevation change
        function findMinimalElevationPath() {
            var startNode = document.getElementById('start-node').value;
            var endNode = document.getElementById('end-node').value;

            if (startNode === "" || endNode === "") {
                alert("Please select both start and end nodes.");
                return;
            }

            var result = findPathWithMinimalElevationChange(startNode, endNode);
            document.getElementById('minimal-elevation-path-result').innerText = "Path with minimal elevation change: " + result.path.join(' -> ') 

            // Reset edge styles to original
            edges.forEach(function(edge) {
                var originalStyle = originalEdgeStyles[edge.id];
                edge.color = originalStyle.color;
                edge.width = originalStyle.width;
                edges.update(edge);
            });

            // Highlight the path with minimal elevation change on the graph
            var pathEdges = [];
            for (var i = 0; i < result.path.length - 1; i++) {
                var fromNode = result.path[i];
                var toNode = result.path[i + 1];
                var edgeId = edges.getIds({
                    filter: function(item) {
                        return (item.from === fromNode && item.to === toNode) || (item.from === toNode && item.to === fromNode);
                    }
                })[0];
                pathEdges.push(edgeId);
            }

            var selectedEdges = edges.get({
                filter: function(item) {
                    return pathEdges.includes(item.id);
                }
            });

            // Highlight path with minimal elevation change by changing color and width
            selectedEdges.forEach(function(edge) {
                edge.color = { color: 'purple' };
                edge.width = 3;
                edges.update(edge);
            });
        }

        // Dijkstra's algorithm implementation
        function dijkstra(startNode, endNode) {
            var distances = {};
            var prev = {};
            var pq = new Set();

            // Initialize distances and previous nodes
            nodes.forEach(function(node) {
                distances[node.id] = Infinity;
                prev[node.id] = null;
                pq.add(node.id);
            });

            distances[startNode] = 0;

            while (pq.size > 0) {
                var minNode = null;
                pq.forEach(function(node) {
                    if (minNode === null || distances[node] < distances[minNode]) {
                        minNode = node;
                    }
                });

                pq.delete(minNode);

                if (minNode === endNode) {
                    break;
                }

                edges.forEach(function(edge) {
                    if (edge.from === minNode && pq.has(edge.to)) {
                        var alt = distances[minNode] + edge.length;
                        if (alt < distances[edge.to]) {
                            distances[edge.to] = alt;
                            prev[edge.to] = minNode;
                        }
                    }
                    if (edge.to === minNode && pq.has(edge.from)) {
                        var alt = distances[minNode] + edge.length;
                        if (alt < distances[edge.from]) {
                            distances[edge.from] = alt;
                            prev[edge.from] = minNode;
                        }
                    }
                });
            }

            var path = [];
            var current = endNode;
            while (current !== null) {
                path.unshift(current);
                current = prev[current];
            }

            return { path: path, distance: distances[endNode] };
        }

        // Find path with the highest cultural significance
        function findPathWithHighestCulturalSignificance(startNode, endNode) {
            culturalScores = {
    'Kathmandu': 4,
    'Pokhara': 4,
    'Nayapul': 1,
    'Tirkhedhunga': 1,
    'Birethanti': 1,
    'Ghorepani': 2,
    'Upper Chistibung': 1,
    'Khopra Danda': 1,
    'Khayer Lake': 1,
    'Dobato': 1,
    'Kimche village': 4,
    'Ghandruk': 4,
    'Hemja Milanchok': 1,
    'Anante Thati': 1,
    'Lalka': 1,
    'Ribhan Village': 1,
    'Khumai Danda': 1,
    'Campsite': 1,
    'Machhapuchhre Base Camp': 2,
    'Pilicho Camp': 1,
    'Karuwa': 1,
    'Ghachok': 1,
    'Swayambhunath': 4,
    'Kathmandu Durbar Square': 4,
    'Arughat': 1,
    'Soti Khola': 2,
    'Machha Khola': 1,
    'Jagat': 1,
    'Dang': 2,
    'Namrung': 1,
    'Lho': 1,
    'Samagaon': 1,
    'Manaslu Basecamp': 1,
    'Birendra Tal': 1,
    'Samdo': 1,
    'Dharamsala': 1,
    'Larkya La High Pass': 1,
    'Bimthang': 1,
    'Dharapani': 1,
    'Besisahar': 2,
    'Nepalgunj': 2, 
    'Jumla': 2,
    'Uthugaon': 1,
    'Danphe Lagna': 1,
    'Chautha': 1,
    'Dhotu': 1,
    'Rara Lake': 1,
    'Gorosingha': 1,
    'Sinja': 1,
    'Jaljala Chaur': 1

    
}


            var distances = {};
            var culturalScoresAcc = {};
            var prev = {};
            var pq = new Set();

            // Initialize distances, cultural scores, and previous nodes
            nodes.forEach(function(node) {
                distances[node.id] = Infinity;
                culturalScoresAcc[node.id] = -Infinity;
                prev[node.id] = null;
                pq.add(node.id);
            });

            distances[startNode] = 0;
            culturalScoresAcc[startNode] = culturalScores[startNode];

            while (pq.size > 0) {
                var maxCulturalNode = null;
                pq.forEach(function(node) {
                    if (maxCulturalNode === null || culturalScoresAcc[node] > culturalScoresAcc[maxCulturalNode]) {
                        maxCulturalNode = node;
                    }
                });

                pq.delete(maxCulturalNode);

                if (maxCulturalNode === endNode) {
                    break;
                }

                edges.forEach(function(edge) {
                    if (edge.from === maxCulturalNode && pq.has(edge.to)) {
                        var altScore = culturalScoresAcc[maxCulturalNode] + culturalScores[edge.to];
                        if (altScore > culturalScoresAcc[edge.to]) {
                            culturalScoresAcc[edge.to] = altScore;
                            prev[edge.to] = maxCulturalNode;
                        }
                    }
                    if (edge.to === maxCulturalNode && pq.has(edge.from)) {
                        var altScore = culturalScoresAcc[maxCulturalNode] + culturalScores[edge.from];
                        if (altScore > culturalScoresAcc[edge.from]) {
                            culturalScoresAcc[edge.from] = altScore;
                            prev[edge.from] = maxCulturalNode;
                        }
                    }
                });
            }

            var path = [];
            var current = endNode;
            while (current !== null) {
                path.unshift(current);
                current = prev[current];
            }

            return { path: path, culturalScore: culturalScoresAcc[endNode] };
        }

        // Find path with minimal elevation change
        function findPathWithMinimalElevationChange(startNode, endNode) {
            elevations = {
    'Kathmandu': 1400,
    'Pokhara': 827,
    'Nayapul': 1050,
    'Tirkhedhunga': 1577,
    'Birethanti': 1065,
    'Ghorepani': 2675,
    'Upper Chistibung': 3000,
    'Khopra Danda': 3640,
    'Khayer Lake': 4660,
    'Dobato': 3438,
    'Kimche village': 1640,
    'Ghandruk': 1640,
    'Hemja Milanchok': 827,  
    'Anante Thati': 1100,
    'Lalka': 2250,
    'Ribhan Village': 1500,  
    'Khumai Danda': 3245,
    'Campsite': 3699,
    'Machhapuchhre Base Camp': 4000,
    'Pilicho Camp': 2900,
    'Karuwa': 1380,
    'Ghachok': 1254,
    'Swayambhunath': 1400, 
    'Kathmandu Durbar Square': 1400,  
    'Arughat': 530,  
    'Soti Khola': 730,
    'Machha Khola': 930,
    'Jagat': 1410,
    'Dang': 1800,
    'Namrung': 2660,
    'Lho': 3180,
    'Samagaon': 3530,
    'Manaslu Basecamp': 4800,
    'Birendra Tal': 3600, 
    'Samdo': 3875,
    'Dharamsala': 4460,
    'Larkya La High Pass': 5160,
    'Bimthang': 3590,
    'Dharapani': 1963,
    'Besisahar': 760,
    'Nepalgunj': 150,  
    'Jumla': 2370,
    'Uthugaon': 2530,
    'Danphe Lagna': 3500,
    'Chautha': 2770,
    'Dhotu': 2380,
    'Rara Lake': 2990,
    'Gorosingha': 3190,
    'Sinja': 2440,
    'Jaljala Chaur': 3270
    
}


            var distances = {};
            var elevationDiffs = {};
            var prev = {};
            var pq = new Set();

            // Initialize distances, elevation differences, and previous nodes
            nodes.forEach(function(node) {
                distances[node.id] = Infinity;
                elevationDiffs[node.id] = Infinity;
                prev[node.id] = null;
                pq.add(node.id);
            });

            distances[startNode] = 0;
            elevationDiffs[startNode] = 0;

            while (pq.size > 0) {
                var minElevationNode = null;
                pq.forEach(function(node) {
                    if (minElevationNode === null || elevationDiffs[node] < elevationDiffs[minElevationNode]) {
                        minElevationNode = node;
                    }
                });

                pq.delete(minElevationNode);

                if (minElevationNode === endNode) {
                    break;
                }

                edges.forEach(function(edge) {
                    if (edge.from === minElevationNode && pq.has(edge.to)) {
                        var alt = distances[minElevationNode] + edge.length;
                        var elevationDiff = Math.abs(elevations[minElevationNode] - elevations[edge.to]);
                        if (alt < distances[edge.to] && elevationDiff < elevationDiffs[edge.to]) {
                            distances[edge.to] = alt;
                            elevationDiffs[edge.to] = elevationDiff;
                            prev[edge.to] = minElevationNode;
                        }
                    }
                    if (edge.to === minElevationNode && pq.has(edge.from)) {
                        var alt = distances[minElevationNode] + edge.length;
                        var elevationDiff = Math.abs(elevations[minElevationNode] - elevations[edge.from]);
                        if (alt < distances[edge.from] && elevationDiff < elevationDiffs[edge.from]) {
                            distances[edge.from] = alt;
                            elevationDiffs[edge.from] = elevationDiff;
                            prev[edge.from] = minElevationNode;
                        }
                    }
                });
            }

            var path = [];
            var current = endNode;
            while (current !== null) {
                path.unshift(current);
                current = prev[current];
            }

            return { path: path, distance: distances[endNode] };
        }
    </script>
</body>
</html>
